# 如何开发一个符合npm规范的library

重要的事情再强调一遍：
1. npm包的最终输出应该只是一个(有且仅有一个)js文件(对于css部分，应该直接打入到js文件中).
2. 在输出的js文件中，需要剔除所有的 peerDependencies.
3. 资源文件全部转为base64打入到js文件中

这问题最核心的部分就是如何打包, 即如何配置webpack.
说明：前端打包有很多工具，比如 parcel, rollup等， 但是占据绝对主流地位的仍然还是webpack.

```js
// webpack.config.js
let path = require('path')

module.exports = {
    context: path.resolve(__dirname, ''), // 工程的根目录
    entry: {
        'my-library': path.resolve(__dirname, './src/index.js')
    },
    output: {
        path: path.resolve(__dirname, 'dist'),
        filename: '[name].js',
        library: 'myLibrary',        // 对外暴露的全局变量名字
        libraryTarget: 'umd',
    },
    externals: {                     // 剔除所有的第三方依赖

    }
}



```




# .npmignore
如果不希望把源代码发布到npm上去，可以在.npmignore文件中添加清单.
