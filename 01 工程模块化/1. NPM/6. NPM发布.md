# 问题： 项目间共享代码

在一个团队的开发过程中通常一种场景：项目间需要共享代码. 通过手动拷贝代码的方式可以临时解决这些问题，但是随着团队规模和项目规模的扩大，这种手动拷贝代码的方式会成为制约效率的中大瓶颈。

理想的解决方式是，将公共代码模块构建成一个npm模块，并且上传到npm仓库上，然后在需要引用的地方，直接import到工程中. 当公共模块的代码有更新时，重新发布一次，并且更新版本号，在需要引用的地方，调用一次npm update即可以完成公共模块引入的更新.


# 在npm上注册账号
https://www.npmjs.com/

# 发布npm
```
npm adduser     # 登录npm账号
npm publish     # 发布npm
```
# 优化开发流程
按照这种方法，当npm模块的代码有持续更新时，必需持续的更新版本号，并且publish.
在引用模块的地方，也需要持续的更新dependencies中的版本号，并且持续的运行 npm update.
这样的开发调试过程是很痛苦的，必需优化一下这个流程.

## npm link
在npm模块项目中，运行 npm link.
它的作用是把当前的npm模块工程的目录，link到本地全局变量上.
## npm link <target_module>
在引用该npm模块的工程中，运行 npm link <target_module>
将工程中import "<target_module>"的位置，链接到之前运行的npm link的全局目录上.
这样在npm模块工程中的任何修改，可以直接的反应到引用工程中.
## 撤销npm link
npm unlink 并不能完成这种撤销. unlink 只是 uninstall的别名.
应该运行以下命令来撤销link.
```
npm remove <target_module> -g
```





# 搭建私有npm

这里通常涉及到一个隐私的问题：不能随意将组织的代码发布到公共环境上. 
于是就产生了这么一个需求，搭建私有的npm仓库，将公共模块的代码发布到私有的npm仓库上，并且对引用公共模块的工程不产生任何影响. 

下面介绍一种搭建私有npm的方法：verdaccio

# verdaccio
https://github.com/verdaccio/verdaccio









