#webpack

下面开始介绍webpack,webpack的作用是把各个模块给连接起来.
webpack的官方解释是: dependency graph bundler.

webpack是目前最主流的前端开发依赖项管理和打包工具. 除了webpack以外,还有其他的工具能完成这些工作,其中,gulp偏向自动化流程,rollup是最新的打包工具.

在实际的项目,出于风险考虑,我们应该采用最主流的技术,同时对于最新的技术保持关注态度. 
对于webpack, gulp, rollup这三种工具的态度是:
* 完全掌握的并且熟练使用webpack
* gulp可选,根据开发过程中的自动化的需求来决定是否使用
* 了解关注和学习rollup

## webpack的基本用法
```
// 根据webpack.conf.js中的配置，执行打包命令
webpack --config webpack.conf.js

// 根据webpack.conf.js中的配置，实时进行打包
webpack --watch --config webpack.conf.js
```
学会使用webpack，其实就是指学会配置webpack.
### entry (工程文件的入口)

### output (打包输出)


### module (配置各种loader)
webpack本身只能识别javascript，对于css，资源文件，typescript，jsx, flow等等，webpack是不识别的，需要配置相应的loader来处理对应类别的文件. 一种loader对应了一种类型的文件的解析.

1. 处理js的loader：babel-loader(babel-core), ts-loader, coffee-loader, coffee-redux-loader, json-loader, json5-loader, i18n-loader, yaml-frontmatter-loader.
2. 处理css的loader： style-loader, css-loader, sass-loader(node-sass), less-loader, postcss-loader, autoprefix-loader.
3. 处理资源文件的loader: file-loader, url-loader, gzip-loader, raw-loader.

sample:
```js
module: {
    rules: [{
        test: /\.jsx?$/,
        exclude: /node_modules/,
        loader: 'babel-loader'
    }, {
        test: /\.(svg|jpeg|png|jpg|gif)$/,
        loader: 'file-loader',
        options: {
            name: '[name]-[hash].[ext]',
            outputPath: 'asset/'
        } 
    }, {
        test: /\.scss$/,
        use: ExtractTextPlugin.extract({
            fallback: 'style-loader',
            use: ['css-loader', 'sass-loader']
        })
    }, {
        test: /\.css$/,
        use: ExtractTextPlugin.extract({
            fallback: 'style-loader',
            use: ['css-loader']
        })
    }]
},
```

### plugin
有三种情况需要使用plugin：
1. 抽离出css文件

默认情况下，webpack打包出来的文件只是一个js文件，所有的css资源都包含其中，当浏览器加载该css文件的时候，会动态的在DOM中创建style节点，插入css内容.

2. 区分开发环境还是生成环境

很多第三方在代码中都是区分开发环境和生产环境的，比如在开发环境中输出更多的日志方便调试，生产环境中的代码更高效和干净.

3. 压缩css文件和js文件

