# Babel
Babel 的官方定义如下：  
Babel is a toolchain that is mainly used to convert ECMAScript 2015+ code into a backwards compatible version of JavaScript in current and older browsers or environments.   
简而言之就是，Babel是一个将ES6（Next）编译成根据浏览器版本向后兼容的JS的工具。  

# 如何使用
1. 安装
```bash
npm install --D @babel/core @babel/cli @babel/preset-env
npm install --S @babel/polyfill
```
2. 创建配置文件：babel.config.js (或 .babelrc.js)（工程根目录下）。 
还可以是 .babelrc (json) 文件，或 package.json 中的babel属性配置。
```js
// babel.config.js
const presets = [
  [
    "@babel/env",
    {
      targets: {
        edge: "17",
        firefox: "60",
        chrome: "67",
        safari: "11.1"
      },
      useBuiltIns: "usage"
    }
  ]
];
module.exports = { presets };
```
3. 直接使用
```bash
./node_modules/.bin/babel src --out-dir lib
# 等价于下面
npx babel src --out-dir lib
```
在nodejs中使用：
```js
const babel = require('@babel/core');
babel.transform("code", options);
```
@babel/register可以理解为一个node端的编译器，查看源码可以发现其实是实现了一个类似钩子的机制，对特定后缀，比如“js, jsx”的文件进行转码，如果文件有依赖Promise等新api，还是需要引入polyfill库。多用在 node 跑程序，做实时编译用的，通常会结合其他插件作编译器使用。





4. 结合其他工具使用，比如 webpack，gulp等.

