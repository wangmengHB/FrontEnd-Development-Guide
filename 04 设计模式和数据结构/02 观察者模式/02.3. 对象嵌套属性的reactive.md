#  对象嵌套属性的reactive

```js
class Dep {
    notify () {

    }
}

const defineReactive = (obj, key, val, shallow = false) => {
    const dep = new Dep()

    let childOb = !shallow && observe(val)

    Object.defineProperty(obj, key, {
        enumerable:: true,
        configurable: true,
        get: function reactiveGetter () {
            return val
        },
        set: function reactiveSetter (newVal) {
            if (newVal === val) {
                return
            }
            val = newVal
            childOb = !shallow && observe(newVal)
            dep.notify()
        }
    })
}


function observe (value, asRootData) {
    if (value === null || typeof obj !== 'object') {
        return
    }
    let ob = new Observer(value)
    return ob
}

class Observer {
    constructor (value) {
        this.value = value
        this.dep = new Dep()
        if (Array.isArray(value)) {
            this.observeArray(value)
        } else {
            this.walk(value)
        }
    }
    walk (obj) {
        const keys = Object.keys(obj)
        for (let i = 0; i < keys.length; i++) {
            defineReactive(obj, keys[i], obj[keys[i]])
        }
    }
    observeArray (items) {
        for (let i = 0; i < items.length; i++) {
            observe([items[i]])
        }
    }
}



let data = {
    x: {
        y: {    
            z: 1
        }
    }
}

defineReactive(data, 'x', data.x)



```