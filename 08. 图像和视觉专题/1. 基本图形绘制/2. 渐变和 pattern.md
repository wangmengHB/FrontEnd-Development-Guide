# Gradient 和 Pattern
渐变和 Pattern 在本质上是一样的，完全可以理解为是一种特殊的图片。  
在将它赋值给 fillStyle/strokeStyle 之后，只会在当前绘制的目标坐标区域里露出它，其他的部分不会显示。  

在 css 中渐变就是 background-image 属性的一种有效值， 足以说明这个问题。   


# Gradient
创建一个渐变对象需要两个步骤：1. 创建渐变对象， 2. 给渐变添加颜色卡点

1. 创建渐变对象：
* 线性渐变：createLinearGradient(x1, y1, x2, y2)   
* 发射渐变：createRadialGradient(x1, y1, r1, x2, y2, r2)  
createRadialGradient 方法接受 6 个参数，前三个定义一个以 (x1,y1) 为原点，半径为 r1 的圆，后三个参数则定义另一个以 (x2,y2) 为原点，半径为 r2 的圆。

在创建渐变对象过程中，所输入的坐标点，就是画布中的坐标点。
对于线性渐变而言，两个点的方向就是渐变方向，开始点和结束点就是输入的坐标。在坐标外，沿着渐变方向的正方向，其他区域的颜色是 stop 1 的颜色，负方向是 stop 0 的颜色。  


2. 给渐变添加颜色点：
* gradient.addColorStop(position, color)    
addColorStop 方法接受 2 个参数，position 参数必须是一个 0.0 与 1.0 之间的数值，表示渐变中颜色所在的相对位置。例如，0.5 表示颜色会出现在正中间。color 参数必须是一个有效的 CSS 颜色值（如 #FFF， rgba(0,0,0,1)，等等）。

也可以通过在同一个 stop 点添加不同的颜色，来达布条颜色的效果，例如法国国旗。
```js
var gradient = ctx.createLinearGradient(0, 0, 90, 0);
gradient.addColorStop(0, 'blue');
gradient.addColorStop(0.3, 'blue');
gradient.addColorStop(0.3, 'white');
gradient.addColorStop(0.6, 'white');
gradient.addColorStop(0.6, 'red');
gradient.addColorStop(1, 'red');
```

在 css 中画德国国旗：
```css
.linear-germany {
  display: inline-block;
  margin: 20px;
  vertical-align: top;
  width: 300px;
  height: 200px;
  background-image: linear-gradient(#000 33.3%, #f00 0, #f00 66.6%, gold 0);
}
```


# Pattern （高级画笔功能的核心 API）
pattern 也是一种特殊的图像，同样是赋值给 fillStyle/strokeStyle, 它的最核心的作用就是实现特殊画笔功能。 
比如，使用画笔对图像中的人脸画马萨克或者模糊。

* createPattern(image, type)
该方法接受两个参数。Image 可以是一个 Image 对象的引用，或者另一个 canvas 对象, 可以为以下对象： 
```
HTMLImageElement (<img>),
HTMLVideoElement (<video>),
HTMLCanvasElement (<canvas>),
CanvasRenderingContext2D,
ImageBitmap,
ImageData,
Blob
```

Type 必须是下面的字符串值之一：repeat，repeat-x，repeat-y 和 no-repeat。  



## 高级画笔功能

当我们需要对一张图片进行滤镜画笔功能的时候，有以下几个核心的步骤：
1. 将当前的画布内容导入到 webgl canvas 中进行滤镜处理。
2. 再将滤镜结果的 canvas 内容，创建为 CanvasPattern, type 为 no-repeat。 
3. 将 pattern 赋值给 fillStyle 或这 strokeStyle，添加画笔路径。  




