# 应用打包 
## step 1. 安装 electron-builder 
```bash
npm install --D electron-builder
```
Electron-Builder：
1. 支持跨平台打包
2. 支持 Code Signing
3. 支持自动更新
build命令的操作系统选项： 
1. --mac | -m | -o | --macos : MacOS
2. --win | -w | -windows: Win10
3. --linux | -l: Linux
操作系统位数：
1. --x64:  x64
2. --ia32: ia32
```json
"scripts": {
  "build": "build -mwl --x64 --ia32"
}
```
## step 2.（MacOS）环境准备：
1. 在MacOS下准备windows安装包，需要：Wine, Mono.
Wine： Unix下开源免费的windows实现   
Mono： Unix下开源免费的.NET实现   
```bash
brew install wine --without-x11
brew install mono
```
2. 在MacOS下准备Linux安装报，需要：
```bash
brew install gnu-tar graphicsmagick xz
brew install rpm
```

## step 3. 配置 package.json ( build 属性 )
定制应用ICON：在工程的根目录下，添加两个文件即可： build/icon.icns, build/icon.ico。  
如果需要定制安装，则修改 build.dmg， build.nsis 属性。  
.icns (MacOS中的ICON格式) 文件中包含了6种尺寸的ICON.   
https://iconverticons.com/online/  

```json
{
  "build": {
    "appId": "com.your-company.electron-app-name",  // 应用的唯一ID
    "copyright": "Copyright © 2018 YOUR-NAME",  
    "productName": "My ELECTRON APP", // 应用的显示名称
    "electronVersion": "3.0.10",
    "mac": {
      // app 在 app store 中的分类名称, https://developer.apple.com/
      "category": "public.app-category.developer-tools" 
    },
    "win": {
      // NSIS: Nullsoft Scriptable Install System
      "target": [ "nsis" ]
    },
    "linux": {
      "target": [ "AppImage", "deb" ]
    },
    // dmg属性可以定制Mac安装包的样式
    "dmg": {
      "title": "XXX installer",
      "backgroundColor": "#FFF",
      
    },
    // 定制 windows 安装包的样式
    "nsis": {
      "oneClick": true,
      "artifactName": "",
      "installerIcon": "",
      "installerHeaderIcon": "",
    }

  }
}
```

# 安装包的自动升级 336 - 363



17. Other  - 364